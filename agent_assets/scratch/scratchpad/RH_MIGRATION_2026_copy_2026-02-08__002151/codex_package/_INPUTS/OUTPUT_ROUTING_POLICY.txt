# RH_MIGRATION_2026 — Output Routing Policy (Single Source of Truth)
**Date:** 02-07-2026  
**Scope:** All Codex outputs for RH_MIGRATION_2026 (phases 00–11)

---

## 1) Canonical project root (authoritative)
All RH_MIGRATION_2026 project work lives under:

**ROOT:** `C:\RH\OPS\SYSTEM\migrations\RH_MIGRATION_2026\`

Top-level under ROOT must remain:

- `codex\`
- `phase_01\` … `phase_11\`
- `trash\`

No other top-level directories are allowed under ROOT.

---

## 2) Output categories and EXACT destinations

### A) Phase outputs (default)
All outputs must be phase-scoped. Every phase uses the same structure:

**Phase root:** `ROOT\phase_XX\`

Required subfolders:
- `scripts\`  (runnable code only)
- `docs\`     (human explanation / decisions / closeouts)
- `artifacts\` (evidence summaries, manifests, diffs, screenshots, exports)
- `runs\`     (timestamped execution output folders)

Optional (only when needed):
- `research\`
- `legacy_engine\`
- `patch_backups\`

---

### B) Run artifacts (machine output)
Any run output that is generated by execution must go under the phase run folder:

**RunRoot:**  
`ROOT\phase_XX\runs\<run_family>\<MM-DD-YYYY__HHMMSS>\`

**Run folder must contain (when applicable):**
- `plan.csv`
- `results.csv`
- `summary.md`
- `errors.log`
- `rollback_*.ps1` / `rollback_*.reg`
- `key-dump.txt` (if registry/known-folder ops)

**Rules:**
- Never write run artifacts to `ROOT\codex\`
- Never write run artifacts to `C:\RH\OPS\SYSTEM\DATA\runs\` for this project
- Never overwrite run folders; each run gets a new timestamped directory

---

### C) Evidence artifacts (human-facing proof)
Any files meant to prove what happened belong in:

**Evidence root:** `ROOT\phase_XX\artifacts\`

Examples:
- diffs (`*_diff_*.md`)
- reconciliation reports
- manifests (`*_manifest_*.csv`)
- before/after listings
- screenshots selected for proof
- sanitized log excerpts

---

### D) Documentation (human narrative)
All narrative docs belong in:

**Docs root:** `ROOT\phase_XX\docs\`

Required per phase (portfolio requirement):
1) `PHASE_XX_PURPOSE.md`
2) `PHASE_XX_PROOF.md` (may live in artifacts if preferred, but must exist)

Closeouts should be named:
- `phaseXX_closeout_02-07-2026.md`
- `phaseXX_addendum_02-07-2026.md`
- `postmortem_02-07-2026.md`

---

### E) Scripts (runnable components)
Scripts belong ONLY in:

**Scripts root:** `ROOT\phase_XX\scripts\`

Rules:
- No scripts should execute from migrated content or trash
- Scripts must be self-contained, predictable, and support DryRun first
- Scripts must never read/write `C:\RH\VAULT_NEVER_SYNC\`

---

### F) Codex control-plane files (governance only)
The `ROOT\codex\` folder is reserved for:
- governance docs
- status registry
- baseline declarations
- reference pointers / context

Allowed file types in `ROOT\codex\`:
- `*.md`
- `*.txt`
- `*.csv` (only small registries; NOT full inventory scans)

Must include:
- `PHASE_STATUS.md`
- `BASELINE_DECLARATION_02-07-2026.md`
- `BASELINE_EVIDENCE_INDEX.md`
- `OUTPUT_ROUTING_POLICY_02-07-2026.md` (this file)

Forbidden in `ROOT\codex\`:
- execution run folders
- bulk outputs (inventories, multi-GB exports)
- copies of personal data dumps

---

### G) Trash (never delete)
Deletion is forbidden. If something must be removed from an active location, move it into:

`ROOT\trash\<category>\<MM-DD-YYYY__HHMMSS>\...`

Trash must preserve provenance:
- never overwrite
- deterministic dupe suffix `(dupe-0001)` etc
- when possible, include a manifest file in the trash folder explaining why it exists

---

### H) Proof Pack (recruiter packaging output)
Proof pack output is separate from the project root:

`C:\RH\OPS\PROOF_PACKS\RH_MIGRATION_2026\`

Default behavior:
- create skeleton only unless explicitly authorized to copy artifacts
- sanitize scripts and evidence (no tokens, no secrets, minimize personal identifiers)

Recommended proof pack structure:
- `README.md`
- `PHASE_SUMMARY.md`
- `TIMELINE.md`
- `EVIDENCE\phase_XX\...`
- `SCRIPTS\...`

---

## 3) Naming + safety rules (global)
- Filename format always: `name_MM-DD-YYYY.ext`
- Timestamped files when needed: `name_MM-DD-YYYY__HHMMSS.ext`
- Never overwrite; always dupe-suffix deterministically
- Default to DryRun; execute only on explicit approval
- Never touch: `C:\RH\VAULT_NEVER_SYNC\`

---

## 4) Enforcement behavior for Codex
Before writing any output, Codex must:
1) Determine phase number (XX)
2) Determine output category (run / artifact / doc / script / codex-control / trash / proof-pack)
3) Route output using the mappings above
4) Refuse to write outside allowed destinations unless explicitly instructed

If unclear, Codex must STOP and ask rather than guessing.

---

## 5) Quick routing cheat sheet
- Execution outputs → `phase_XX\runs\...`
- Evidence exports/manifests/diffs → `phase_XX\artifacts\...`
- Narratives/closeouts → `phase_XX\docs\...`
- Runnable code → `phase_XX\scripts\...`
- Governance + status registry → `codex\...`
- Removed items → `trash\...`
- Recruiter package → `C:\RH\OPS\PROOF_PACKS\...`
